<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Clicker</title>
    <style>
        * { box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f4f4f4;
            text-align: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        h1 { font-size: 3em; margin: 0.2em 0; }
        h2 { margin-top: 2em; }

        #cookie {
            width: 220px;
            cursor: pointer;
            transition: transform 0.1s ease;
        }

        #cookie:active { transform: scale(0.95); }

        #score, #clickValue, #autoClickerStatus {
            font-size: 1.2em;
            margin: 10px 0;
        }

        .section { margin-top: 30px; }

        .button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
        }

        .button:hover { background-color: #2980b9; }

        .achievement {
            font-size: 1em;
            margin: 5px;
            color: gray;
        }

        .unlocked {
            color: green;
            font-weight: bold;
        }

        .particle {
            position: absolute;
            font-weight: bold;
            color: gold;
            pointer-events: none;
            user-select: none;
            transition: all 0.8s ease-out;
        }
    </style>
</head>
<body>

    <h1>Тапай кота!</h1>
    <img id="cookie" src="/images/cat-breakdance.gif" alt="Click!" onclick="clickCookie(event)">
    <p id="score">Деньги: <span id="scoreValue">0</span></p>
    <p id="clickValue">Один клик: 1</p>

    <div class="section">
        <h2>Улучшения</h2>
        <button class="button" id="upgrade0" onclick="buyUpgrade(10, 1, 0)">+1 клик</button>
        <button class="button" id="upgrade1" onclick="buyUpgrade(25, 3, 1)">+3 клика</button>
    </div>

    <div class="section">
        <h2>Автокликер</h2>
        <p id="autoClickerStatus">Автокликер: Выкл.</p>
        <button class="button" onclick="buyAutoClicker(50)">Купить автокликер (50)</button>
        <button class="button" onclick="upgradeAutoClicker(30)">Улучшить автокликер (30)</button>
    </div>

    <div class="section">
        <h2>Питомцы</h2>
        <div id="petContainer"></div>
    </div>

    <div class="section">
        <h2>Достижения</h2>
        <p class="achievement" id="achvClicks">100 кликов</p>
        <p class="achievement" id="achvUpgrades">5 улучшений</p>
        <p class="achievement" id="achvAuto">Автокликер включен</p>
    </div>

    <div class="section">
        <h2>Сохранение</h2>
        <button class="button" onclick="saveGame()">Сохранить</button>
        <button class="button" onclick="loadGame()">Загрузить</button>
        <button class="button" onclick="resetGame()">Сброс</button>
    </div>

    <script>
        let score = 0;
        let clickValue = 1;
        let upgradeCount = 0;
        let bonusActive = false;
        let rebirthLevel = 0;

        const baseUpgradeCosts = [10, 25];
        let upgradeLevels = [0, 0];

        let autoClicker = {
            enabled: false,
            speed: 1,
            interval: null
        };

        const pets = [
            { name: "kolbasa", cost: 100, boost: 0.1, owned: false },
            { name: "shaurma", cost: 250, boost: 0.25, owned: false },
            { name: "doggo", cost: 500, boost: 0.5, owned: false, requiredRebirth: 1 },
            { name: "birb", cost: 1000, boost: 1.0, owned: false, requiredRebirth: 2 },
            { name: "dragon", cost: 5000, boost: 2.5, owned: false, requiredRebirth: 3 }
        ];

        function updateUI() {
            document.getElementById("scoreValue").textContent = Math.floor(score);
            document.getElementById("clickValue").textContent = "Один клик: " + clickValue.toFixed(2);
            document.getElementById("autoClickerStatus").textContent = "Автокликер: " + (autoClicker.enabled ? "Вкл." : "Выкл.");
            for (let i = 0; i < baseUpgradeCosts.length; i++) {
                const cost = Math.floor(baseUpgradeCosts[i] * Math.pow(1.15, upgradeLevels[i]));
                document.getElementById("upgrade" + i).textContent = `+${i === 0 ? 1 : 3} клик(а) (${cost})`;
            }
        }

        function clickCookie(e) {
            score += clickValue;
            updateUI();
            checkAchievements();
            spawnParticle(e.clientX, e.clientY);
        }

        function spawnParticle(x, y) {
            const particle = document.createElement("div");
            particle.className = "particle";
            particle.style.left = x + "px";
            particle.style.top = y + "px";
            particle.textContent = "+" + clickValue.toFixed(1);
            document.body.appendChild(particle);
            requestAnimationFrame(() => {
                particle.style.top = (y - 50) + "px";
                particle.style.opacity = 0;
            });
            setTimeout(() => particle.remove(), 800);
        }

        function buyUpgrade(baseCost, value, index = 0) {
            const cost = Math.floor(baseCost * Math.pow(1.15, upgradeLevels[index]));
            if (score >= cost) {
                score -= cost;
                clickValue += value;
                upgradeCount++;
                upgradeLevels[index]++;
                updateUI();
                checkAchievements();
            } else alert("Недостаточно денег!");
        }

        // ... [REMAINDER OF CODE UNCHANGED] ...
    </script>
</body>
</html>
