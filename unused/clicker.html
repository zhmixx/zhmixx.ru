<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Clicker</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        #cookie { width: 150px; cursor: pointer; }
        #score { font-size: 24px; }
        #shop button, #saveOptions button { margin: 10px; padding: 10px; }
    </style>
</head>
<body>
    <h1>Cookie Clicker</h1>
    <p id="score">Cookies: 0</p>
    <img id="cookie" src="https://upload.wikimedia.org/wikipedia/commons/6/69/Chocolate_Chip_Cookie_%28cropped%29.jpg" alt="Cookie">
    <div id="shop">
        <button onclick="buyUpgrade()">Upgrade Click (Cost: <span id="upgradeCost">10</span>)</button>
    </div>
    <div id="saveOptions">
        <button onclick="exportSave()">Export Save</button>
        <input type="file" id="importFile" onchange="importSave(event)">
    </div>
    
    <script>
        let cookies = parseInt(localStorage.getItem("cookies")) || 0;
        let clickValue = parseInt(localStorage.getItem("clickValue")) || 1;
        let upgradeCost = parseInt(localStorage.getItem("upgradeCost")) || 10;
        
        document.getElementById("score").textContent = `Cookies: ${cookies}`;
        document.getElementById("upgradeCost").textContent = upgradeCost;
        
        document.getElementById("cookie").addEventListener("click", () => {
            cookies += clickValue;
            document.getElementById("score").textContent = `Cookies: ${cookies}`;
            saveGame();
        });
        
        function buyUpgrade() {
            if (cookies >= upgradeCost) {
                cookies -= upgradeCost;
                clickValue++;
                upgradeCost = Math.ceil(upgradeCost * 1.5);
                document.getElementById("score").textContent = `Cookies: ${cookies}`;
                document.getElementById("upgradeCost").textContent = upgradeCost;
                saveGame();
            }
        }
        
        function saveGame() {
            localStorage.setItem("cookies", cookies);
            localStorage.setItem("clickValue", clickValue);
            localStorage.setItem("upgradeCost", upgradeCost);
        }
        
        function exportSave() {
            const saveData = { cookies, clickValue, upgradeCost };
            const blob = new Blob([JSON.stringify(saveData)], { type: "application/json" });
            const a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = "cookie_clicker_save.json";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
        
        function importSave(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const saveData = JSON.parse(e.target.result);
                    cookies = saveData.cookies || 0;
                    clickValue = saveData.clickValue || 1;
                    upgradeCost = saveData.upgradeCost || 10;
                    
                    document.getElementById("score").textContent = `Cookies: ${cookies}`;
                    document.getElementById("upgradeCost").textContent = upgradeCost;
                    saveGame();
                } catch (error) {
                    alert("Invalid save file.");
                }
            };
            reader.readAsText(file);
        }
    </script>
</body>
</html>
